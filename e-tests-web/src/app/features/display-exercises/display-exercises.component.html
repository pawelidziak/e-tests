<section class="section-display-exercises" *ngIf="exerciseList">

  <div class="exercises-header">
    <mat-form-field appearance="outline" class="one-field">
      <mat-label>Search exercise</mat-label>
      <mat-icon matPrefix>search</mat-icon>
      <input matInput [(ngModel)]="searchText"
             placeholder="Search exercise"
             [disabled]="exerciseList.length === 0">
    </mat-form-field>

    <mat-form-field appearance="outline" class="one-field">
      <mat-label>Sort by</mat-label>
      <mat-select placeholder="Sort by"
                  [(ngModel)]="selectedOption"
                  (selectionChange)="changeSortOption()"
                  [disabled]="exerciseList.length === 0">
        <mat-option *ngFor="let option of sortOption" [value]="option">
          {{option.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <app-display-one-exercise *ngFor="let exercise of exerciseList | searchExercise : searchText; let i=index;  trackBy: identifier"
                            [exercise]="exercise"
                            [editMode]="editExercisesMode || (addNewExercise && i === exerciseList.length - 1)"
                            [isNew]="addNewExercise"
                            [testId]="testId"
                            [number]="i + 1"
                            (addedExercise)="handleAddedExercise($event)">
  </app-display-one-exercise>


  <div *ngIf="exerciseList.length === 0" class="no-matches">
    <p>Lack of exercises</p>
  </div>

  <div class="change-button" *ngIf="!searchText && !addNewExercise">
    <button mat-raised-button color="accent" (click)="addExercise()">
      <mat-icon aria-label="Add exercise">add</mat-icon>
      <span>add exercise</span>
    </button>
  </div>

  <div *ngIf="exerciseList.length > 0 && (exerciseList | searchExercise: searchText).length === 0"
       class="no-matches">
    <mat-icon aria-label="No matches icon" class="no-matches-icon">sentiment_very_dissatisfied</mat-icon>
    <p><span class="text">No matches</span> for <strong>{{searchText}}</strong></p>
    <button mat-stroked-button color="accent" (click)="searchText = ''">clear input</button>
  </div>
</section>
