<section class="section-create-test" *ngIf="testInfo">

  <mat-toolbar class="sub-header">

    <button mat-raised-button
            color="primary"
            (click)="saveTest()">
      SAVE
    </button>
  </mat-toolbar>

  <mat-vertical-stepper class="container">
    <!-- STEP ONE -->
    <mat-step>
      <ng-template matStepLabel>
        <div class="step-header">
          <span>Test info</span>
          <mat-icon *ngIf="hasError(testInfo.testName)"
                    aria-label="Warning icon">warning
          </mat-icon>
        </div>
      </ng-template>

      <div *ngIf="hasError(testInfo.testName)" class="step-warning">
        <p>Name cannot be empty</p>
      </div>

      <mat-form-field style="width: 100%" color="accent">
        <input matInput placeholder="Test name" [(ngModel)]="testInfo.testName">
      </mat-form-field>
    </mat-step>

    <!-- STEP TWO -->
    <mat-step>
      <ng-template matStepLabel>
        <div class="step-header">
          <span>Categories</span>
          <mat-icon *ngIf="hasError(testInfo.categories)"
                    aria-label="Warning icon">warning
          </mat-icon>
        </div>
      </ng-template>

      <div *ngIf="hasError(testInfo.categories)" class="step-warning">
        <p>Choose at least one category</p>
      </div>

      <app-categories [testCategories]="testInfo.categories"></app-categories>
    </mat-step>

    <!-- STEP THREE -->
    <mat-step class="step-exercises">
      <ng-template matStepLabel>
        <div class="step-header">
          <span>Exercise</span>
          <mat-icon *ngIf="hasError(testExercises)"
                    aria-label="Warning icon">warning
          </mat-icon>
        </div>
      </ng-template>
      <app-exercise-list [exerciseList]="testExercises"></app-exercise-list>
    </mat-step>
  </mat-vertical-stepper>

</section>
